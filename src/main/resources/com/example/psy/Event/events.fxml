<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.shape.Circle?>

<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="Controllers.Event.EventListController"
            stylesheets="@../style.css"
            styleClass="background-gradient">

    <!-- ========== TOP ========== -->
    <top>
        <VBox spacing="20">
            <padding>
                <Insets top="30" right="40" bottom="20" left="40"/>
            </padding>
            
            <HBox alignment="CENTER_LEFT" spacing="20" style="-fx-background-color: white; -fx-background-radius: 15; -fx-padding: 20; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.05), 10, 0, 0, 0);">
                <VBox>
                     <Label text="Events Management" styleClass="section-title"/>
                     <Label text="Upcoming and past therapy events" styleClass="subtitle" style="-fx-font-size: 14px;"/>
                </VBox>
                
                <Region HBox.hgrow="ALWAYS"/>
                
                <HBox spacing="10" alignment="CENTER_LEFT" style="-fx-background-color: #f4f6f8; -fx-background-radius: 25; -fx-padding: 5 15;">
                    <TextField fx:id="searchField" promptText="Search by title..." style="-fx-background-color: transparent; -fx-prompt-text-fill: #999;" HBox.hgrow="ALWAYS"/>
                    <Button text="ðŸ”" style="-fx-background-color: transparent; -fx-cursor: hand;"/>
                </HBox>

                <Button text="+ Add Event"
                        styleClass="btn-primary"
                        onAction="#handleAddEvent"/>
            </HBox>
        </VBox>
    </top>

    <!-- ========== CENTER : scrollable card grid ========== -->
    <center>
        <ScrollPane fx:id="scrollPane"
                    fitToWidth="true"
                    hbarPolicy="NEVER"
                    style="-fx-background: transparent; -fx-background-color: transparent; -fx-padding: 0 40 40 40;">

            <FlowPane fx:id="cardContainer"
                      hgap="25"
                      vgap="25"
                      prefWrapLength="1000"
                      style="-fx-padding: 5;"/>

        </ScrollPane>
    </center>

    <!-- ========== BOTTOM ========== -->
    <bottom>
        <HBox alignment="CENTER_RIGHT">
            <padding>
                <Insets top="10" right="40" bottom="20" left="40"/>
            </padding>
            <Label fx:id="totalEventsLabel" text="Total events: 0"
                   style="-fx-text-fill: #8d6e63; -fx-font-weight: bold;"/>
        </HBox>
    </bottom>

</BorderPane>